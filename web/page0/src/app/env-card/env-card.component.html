@if (getCardSetting(); as setting) {
  <div>
    <mat-card class="env-card" [style.backgroundColor]="setting.backgroundColor">
      <div class="env-card-header">
        @if (isRunning()) {
          <button
            mat-icon-button
            aria-label="Open per-group UI button"
            matTooltip="Open per-group UI web"
            (click)="onClickGoto()"
            >
            <span class="google-symbols"> open_in_new </span>
          </button>
        }
        <button
          mat-icon-button
          aria-label="Status"
          [matTooltip]="setting.tooltip"
          >
          <span class="google-symbols">
            {{ setting.icon }}
          </span>
        </button>
      </div>
      <mat-card-content class="env-card-first-content">
        Runtime: {{ env.runtimeAlias }}
      </mat-card-content>
      <mat-card-content> Host: {{ env.hostUrl }} </mat-card-content>
      <mat-card-content> Group ID: {{ env.groupName }} </mat-card-content>
      <mat-card-content>
        Devices:
        <ul style="margin-top: 0px">
          @for (device of env.devices; track device) {
            <li>
              {{ device.deviceId }}
            </li>
          }
        </ul>
      </mat-card-content>
      <br />
      <div class="env-card-footer">
        @if (isRunning()) {
          <button
            mat-icon-button
            aria-label="Stop group button"
            (click)="onClickDelete()"
            matTooltip="Delete environment with its devices"
            >
            <span class="google-symbols"> delete </span>
          </button>
        }
      </div>
    </mat-card>
  </div>
}
